<div id="home">
    <div class="container">
        <div class="row">
            <div class="col-8 offset-2">
                <h1>{{msg}}</h1>
                <h2>Happy Hour Coordinator</h2>
                <form class="clearfix mb-4" action="POST">
                    <div class="form-group">
                        <label for="name-text">Name!</label>
                        <input type="text" id="name-text" class="form-control" aria-describedby="example-text"
                            placeholder="Please enter name of the discovered happy hour">
                    </div>
                    <div class="form-group">
                        <label for="address-text">Address!</label>
                        <input type="text" id="address-text" class="form-control" aria-describedby="example-text"
                            placeholder="Please enter address">
                        <label for="duration-text">Duration!</label>
                        <input type="text" id="duration-text" class="form-control" aria-describedby="example-text"
                            placeholder="Please enter duration">
                        <label for="drinks-text">Drinks!</label>
                        <input type="text" id="drinks-text" class="form-control" aria-describedby="example-text"
                            placeholder="Please enter drinks">
                        <label for="food-text">Food!</label>
                        <input type="text" id="food-text" class="form-control" aria-describedby="example-text"
                            placeholder="Please enter food">
                    </div>
                    <div class="form-group">
                        <label for="description-text">Description</label>
                        <textarea class="form-control" id="description-text" aria-describedby="example-description"
                            placeholder="Why is this place so amazing?"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="pictures-text">PICTURES</label>
                        <form action="/upload" method="post" enctype="multipart/form-data">
                            <input class="form-control-file" type="file" accept="image/*" name="photo">
                            {{!-- Below should be removed --}}
                            <input class="btn mt-3" type="submit" value="upload">
                        </form>
                    </div>
                    <button id="submit" class="btn btn-primary float-right">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>

    $("#submit").on("click", uploadNewEntry);

    // function to post new entry to api
    function uploadNewEntry(event) {
        event.preventDefault();
        console.log("hahahahahhaha");

        dataToSubmit = {
            hh_name: $("#name-text").val().trim(),
            hh_address: $("#address-text").val().trim(),
            hh_duration: $("#duration-text").val().trim(),
            hh_drinks: $("#description-text").val().trim(),
            hh_food: $("#food-text").val().trim(),
            hh_description: $("#description-text").val().trim()
        }
        console.log(dataToSubmit);
        $.post("/api/happyhour", dataToSubmit, function (data, status) {
            console.log("entry added:");
            console.log(data);
        });
        location.href = "/view"
    }

</script>